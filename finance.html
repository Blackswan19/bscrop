<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <title>BsFinacal</title> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-S..." crossorigin="anonymous" referrerpolicy="no-referrer" /> <style> @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap'); * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', system-ui, -apple-system, sans-serif; -webkit-tap-highlight-color: transparent; user-select: none; }* { -webkit-tap-highlight-color: transparent; } body { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; } body { background: #000000; color: #e0e0e5; height: 100vh; padding: 16px 12px; display: flex; flex-direction: column; align-items: center; } a { text-decoration: none; color: inherit; } h1 { color: #0040ff; font-size: 1.9rem; font-weight: 700; letter-spacing: -0.4px; margin: 76px 0 32px; text-align: center; } .container { width: 100%; max-width: 480px; } .balance-display { background: #ffffff17; border-radius: 16px; padding: 20px 16px; margin-bottom: 24px; font-size: 1.38rem; font-weight: 600; display: flex; justify-content: center; align-items: center; gap: 10px; border: 1px solid #1a1a20; } #balance { color: #4fc3f7; font-weight: 700; } .form-group{ margin: 20px 0px 15px 0px; } .form-group label { display: block; color: #0040ff; font-size: 0.84rem; font-weight: 500; margin-bottom: 6px; } .form-group input, .form-group select { width: 100%; padding: 12px 14px; background: #202020; border: none; border-radius: 12px; color: #f0f0f5; font-size: 1rem; outline: none; transition: border-color 0.18s; } button { background: #0040ff; color: white; border: none; border-radius: 102px; padding: 12px 20px; font-size: 0.96rem; font-weight: 600; cursor: pointer; transition: background 0.16s; } /* Floating action buttons */ .toggle-form-btn, .toggle-period-btn { border-radius: 14px; background: #0040ff; color: white; font-size: 15px; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 1000; width: 40px; height: 40px; border: none;padding: 0px; }.bottomoptions { display: flex; justify-content: space-around; align-items: center; position: fixed; bottom: 10px; width: 100%;left: 0px; } /* Transaction list */ .transaction-table-container { background: #000000; border-radius: 16px; overflow: hidden; border: 1.5px solid #ffffff0f; margin-top: 16px; height: fit-content; overflow-y: scroll; scrollbar-width: thin; scrollbar-color: gray black; max-height: 400px; } .transaction-table { width: 100%; border-collapse: collapse; } .transaction-table th { background: #171717; color: #ffffff45; font-size: 0.81rem; font-weight: 600; padding: 12px 8px; position: sticky; top: 0; z-index: 2; text-transform: uppercase; text-align: center; } .transaction-table td { padding: 8px; font-size: 0.94rem; border-bottom: 1px solid #ffffff14; text-align: center; } .transaction-table .income { color: #66bb6a; font-weight: 500; } .transaction-table .expense { color: #ef5350; font-weight: 500; } .delete-btn { background: none; border: none; color: #757575; font-size: 1.18rem; cursor: pointer; padding: 4px; } .delete-btn:hover { color: #ef5350; } /* Transaction popup (centered modal) */ .transaction-popup { position: fixed; inset: 0; background: rgb(0 0 0 / 0%); display: none; align-items: center; justify-content: center; z-index: 2000; backdrop-filter: blur(10px); } .transaction-popup.active { display: flex; } .transaction-popup > div { background: rgb(0 0 0 / 69%); border-radius: 45px; width: 96%; max-width: 420px; padding: 25px; border: 1.5px solid #ffffff1a; position: relative; } .close-transaction { position: absolute; top: 10px; right: 10px; background: none; border: none; color: #ffffff66; font-size: 16px; cursor: pointer; font-weight: 100; } /* Period summary side sheet */ .period-slider { position: fixed; top: 0; right: -100%; width: 100%; max-width: 420px; height: 100%; background: #090909; border-left: 1px solid #ffffff09; transition: right 0.28s cubic-bezier(0.4,0,0.2,1); z-index: 1500; padding: 24px 20px; color: #e0e0e5; overflow-y: auto; } .period-slider.active { right: 0; } .close-period-slider { position: absolute; top: 16px; right: 20px; background: none; border: none; color: #ffffff86; font-size: 1.5rem; cursor: pointer;font-weight: 100; } .period-result { margin-top: 20px; padding: 16px; background: #111113; border-radius: 12px; border: 1px solid #1e1e25; line-height: 1.55; } .period-result .days-between { color: #4fc3f7; font-weight: 600; } .period-result .income { color: #81c784; } .period-result .expense { color: #e57373; } .period-result .net-balance { color: #ffd54f; font-weight: 600; } /* Filter (top-right) */ .form-group.filter { position: fixed; top: 0px; right: 16px; z-index: 900; } #filter-type { background: #111113; color: #e0e0e5; border: 1px solid #1e1e25; padding: 8px 12px; border-radius: 12px; font-size: 0.9rem; } /* Options row in popup */ .options { display: flex; gap: 12px; margin-top: 8px; } .options button { flex: 1; } .options button:nth-child(2) { background: #ffffff23; } .options button:nth-child(2):hover { background: #ffffff13; } /* Responsive */ @media (max-width: 480px) { } </style> </head> <body> <a><h1>BsFinacal</h1></a> <div class="container"> <!-- Floating buttons --> <div class="bottomoptions"> <button class="toggle-form-btn" id="toggle-form"><i class="fa-solid fa-plus"></i></button> <button class="toggle-period-btn" id="toggle-period"><i class="fa-solid fa-filter"></i></button> </div> <!-- Balance --> <div class="balance-display"> <span id="balance-label" style="color:#a0a0b0;">Total</span> <span id="balance">0.00</span> </div> <!-- Filter --> <div class="form-group filter"> <select id="filter-type" onchange="renderTransactions()"> <option value="all">All</option> <option value="income">Income</option> <option value="expense">Expense</option> </select> </div> <!-- Transactions Table --> <div class="transaction-table-container"> <table class="transaction-table"> <thead> <tr> <th>For</th> <th>Rs</th> <th>Type</th> <th>Date</th> <th></th> </tr> </thead> <tbody id="transaction-list"></tbody> </table> </div> </div> <!-- Add Transaction Popup --> <div class="transaction-popup" id="transaction-popup"> <div> <button class="close-transaction" onclick="closeTransactionPopup()"><i class="fa-solid fa-xmark"></i></button> <div class="form-group"> <label for="transaction-type">Type</label> <select id="transaction-type"> <option value="income">Income</option> <option value="expense">Expense</option> </select> </div> <div class="form-group"> <label for="transaction-description">For</label> <input type="text" id="transaction-description" placeholder="Salary / Grocery / etc" autocomplete="off"/> </div> <div class="form-group"> <label for="transaction-amount">Amount</label> <input type="number" id="transaction-amount" placeholder="0.00" step="0.01" min="0"/> </div> <div class="form-group"> <label for="transaction-date">Date</label> <input type="date" id="transaction-date"/> </div> <div class="options"> <button id="add-transaction">Add</button> <!-- <button onclick="closeTransactionPopup()">Cancel</button> --> </div> </div> </div> <!-- Period Summary Side Sheet --> <div id="period-slider" class="period-slider"> <button class="close-period-slider" onclick="closePeriodSlider()">×</button> <h2 style="margin-bottom:20px; color:#e0e0e5;">Filter</h2> <div class="form-group"> <label for="start-date">Start Date</label> <input type="date" id="start-date"/> </div> <div class="form-group"> <label for="end-date">End Date</label> <input type="date" id="end-date"/> </div> <div class="form-group"> <label for="period-type">Show</label> <select id="period-type"> <option value="all">All</option> <option value="income">Income</option> <option value="expense">Expense</option> </select> </div> <button id="calculate-period" style="width:100%; margin:16px 0 8px;">Calculate</button> <div id="period-result" class="period-result"></div> </div>
<script>
    let transactions = JSON.parse(localStorage.getItem("transactions")) || [];

    function setDefaultDates() {
      const today = new Date().toISOString().split('T')[0];
      document.getElementById("transaction-date").value = today;
      document.getElementById("start-date").value = today;
      document.getElementById("end-date").value = today;
    }

   document.addEventListener('contextmenu', e => e.preventDefault());
    document.getElementById("toggle-form").addEventListener("click", () => {
      const popup = document.getElementById("transaction-popup");
      const btn = document.getElementById("toggle-form");
      popup.classList.toggle("active");
      btn.textContent = popup.classList.contains("active") ? "×" : "+";
    });

    function closeTransactionPopup() {
      document.getElementById("transaction-popup").classList.remove("active");
      document.getElementById("toggle-form").textContent = "+";
    }

    // Toggle period slider
    document.getElementById("toggle-period").addEventListener("click", () => {
      document.getElementById("period-slider").classList.toggle("active");
      document.getElementById("period-result").innerHTML = "";
    });

    function closePeriodSlider() {
      document.getElementById("period-slider").classList.remove("active");
    }

    function formatDate(dateStr) {
      const d = new Date(dateStr);
      return `${String(d.getDate()).padStart(2,'0')}-${String(d.getMonth()+1).padStart(2,'0')}`;
    }

    function addTransactionToTable(t, index) {
      const tbody = document.getElementById("transaction-list");
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${t.description}</td>
        <td>${t.amount.toFixed(0)}</td>
        <td class="${t.type}">${t.type}</td>
        <td>${formatDate(t.date)}</td>
        <td><button class="delete-btn" onclick="deleteTransaction(${index})"><i class="fas fa-minus-circle"></i></button></td>
      `;
      tbody.appendChild(tr);
    }

    function renderTransactions() {
      const tbody = document.getElementById("transaction-list");
      const filter = document.getElementById("filter-type").value;
      tbody.innerHTML = "";

      let displayedTotal = 0;

      // Show newest first
      [...transactions].reverse().forEach((t, revIdx) => {
        const origIdx = transactions.length - 1 - revIdx;
        if (filter === "all" || t.type === filter) {
          addTransactionToTable(t, origIdx);
          displayedTotal += (t.type === "income" ? t.amount : -t.amount) * (filter === "all" ? 1 : (t.type === "income" ? 1 : -1));
        }
      });

      document.getElementById("balance-label").textContent = filter === "all" ? "Total" : filter.charAt(0).toUpperCase() + filter.slice(1);
      document.getElementById("balance").textContent = Math.abs(displayedTotal).toFixed(2);
      document.getElementById("balance").style.color = displayedTotal >= 0 ? "#4fc3f7" : "#ef5350";
    }

    function saveTransactions() {
      localStorage.setItem("transactions", JSON.stringify(transactions));
    }

    function deleteTransaction(idx) {
      transactions.splice(idx, 1);
      saveTransactions();
      renderTransactions();
    }

    // Add transaction
    document.getElementById("add-transaction").addEventListener("click", () => {
      const type  = document.getElementById("transaction-type").value;
      const desc  = document.getElementById("transaction-description").value.trim();
      const amt   = parseFloat(document.getElementById("transaction-amount").value);
      const date  = document.getElementById("transaction-date").value;

      if (!desc || isNaN(amt) || amt <= 0 || !date) {
        alert("Please fill all fields correctly.");
        return;
      }

      transactions.push({ description: desc, amount: amt, type, date });
      saveTransactions();
      renderTransactions();

      // Reset form
      document.getElementById("transaction-description").value = "";
      document.getElementById("transaction-amount").value = "";
      document.getElementById("transaction-date").value = new Date().toISOString().split('T')[0];
      closeTransactionPopup();
    });

    // Period calculation
    document.getElementById("calculate-period").addEventListener("click", () => {
      const start = document.getElementById("start-date").value;
      const end   = document.getElementById("end-date").value;
      const pType = document.getElementById("period-type").value;

      if (!start || !end) return alert("Select both dates");

      const s = new Date(start);
      const e = new Date(end);
      if (s > e) return alert("Start date must be before or equal to end date");

      const days = Math.floor((e - s) / 86400000) + 1;

      const filtered = transactions.filter(t => {
        const td = new Date(t.date);
        return td >= s && td <= e;
      });

      let total = 0;
      let html = "";

      filtered.filter(t => pType === "all" || t.type === pType).forEach(t => {
        const sign = t.type === "income" ? "+" : "−";
        const colorClass = t.type;
        total += t.type === "income" ? t.amount : -t.amount;
        html += `<p class="${colorClass}">${sign} ${t.amount.toFixed(0)}  —  ${t.description}</p>`;
      });

      const label = pType === "all" ? "Net" : pType.charAt(0).toUpperCase() + pType.slice(1);

      document.getElementById("period-result").innerHTML = `
        <p class="days-between">Days: ${days}</p>
        <p class="net-balance">${label}: ${total >= 0 ? "+" : ""}${total.toFixed(0)}</p>
        ${html ? `<div style="margin-top:12px;">${html}</div>` : "<p style='color:#757575;'>No transactions in this period.</p>"}
      `;
    });

    // Init
    setDefaultDates();
    renderTransactions();
  </script>
</body>
</html>



